%h1 Listing books

%table
  %tr
    %th Title
    %th Authors
    %th Isbn
    %th Pages
    %th Covers
    %th
    %th
    %th

  - @books.each do |book|
    %tr
      %td= book.title
      %td= book.authors
      %td= book.isbn
      %td= book.do_or_do_not(:pages) || book.try(:page_count)
      %td= book.covers
      - if book.is_a? Mongoid::Document
        %td= link_to 'Show', book
        %td= link_to 'Edit', edit_book_path(book)
        %td= link_to 'Destroy', book, :method => :delete, :data => { :confirm => 'Are you sure?' }

%br

= link_to 'New Book', new_book_path
